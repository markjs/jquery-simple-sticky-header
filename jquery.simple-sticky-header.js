// Generated by CoffeeScript 1.6.3
/*
# jQuery Simple Sticky Header
# Copyright 2013 Mark J Smith
*/

(function($) {
  return $.fn.simpleStickyHeader = function(options) {
    if (options == null) {
      options = {};
    }
    options = $.extend({
      'offset': 0
    }, options);
    return $(this).each(function() {
      var $this;
      $this = $(this).addClass('simple-static');
      $this.after($this.clone().removeClass('simple-static').addClass('simple-sticky').hide());
      $(window).on('scroll', function() {
        var $static, $sticky;
        $static = $(".simple-static");
        $sticky = $(".simple-sticky");
        if ($(window).scrollTop() >= ($static.position()['top'] - options.offset)) {
          if (!$sticky.is(':visible')) {
            $sticky.show();
            return $sticky.trigger('simpleSticky.show', [$sticky, $static]);
          }
        } else {
          if ($sticky.is(':visible')) {
            $sticky.hide();
            return $sticky.trigger('simpleSticky.hide', [$sticky, $static]);
          }
        }
      });
      return $(window).trigger('scroll');
    });
  };
})(jQuery);
